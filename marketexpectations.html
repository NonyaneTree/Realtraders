<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Real Traders â€“ Multi Group Signals</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <style>
    body, html {
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      background-color: #f4f4f4;
    }

    .content {
      padding: 20px;
      max-width: 800px;
      margin: 40px auto;
      background: white;
      border-radius: 10px;
      box-shadow: 0 0 10px rgba(0,0,0,0.1);
    }

    h2 {
      color: #003366;
    }

    .intro {
      margin-bottom: 30px;
      color: #333;
    }

    /* News/Signal styling from provided script */
    .news {
      border-bottom: 1px solid #e0e0e0;
      padding: 15px 0;
    }

    .headline {
      font-weight: bold;
      font-size: 1.05em;
      color: #222;
      margin-bottom: 6px;
    }

    .preview {
      color: #555;
      font-size: 0.95em;
      margin-bottom: 8px;
    }

    .meta {
      font-size: 0.8em;
      color: #888;
      margin-top: 6px;
    }

    .read-more {
      color: #007bff;
      cursor: pointer;
      font-size: 0.85em;
      margin-top: 6px;
      display: inline-block;
    }

    footer {
      text-align: center;
      font-size: 14px;
      color: #666;
      margin-top: 50px;
    }

    nav a {
      margin: 0 10px;
      color: #007bff;
      text-decoration: none;
    }
  </style>
</head>
<body>

<div class="content">
  <h2>ðŸ“ˆ Real Traders â€“ Free Live Trading Signals</h2>
  <p class="intro">
    Welcome to <strong>Real Traders</strong> â€“ your home of live trading signals from different verified trader groups. Each group shares their strategies for free. Mentorship may be offered individually and is not managed by Real Traders. Use all signals at your discretion.
  </p>

  <div id="signals">Loading signals...</div>
</div>

<footer>
  <hr>
  <nav>
    <a href="#">About</a>
    <a href="#">Privacy</a>
    <a href="#">Terms</a>
    <a href="#">Contact</a>
  </nav>
  <p>&copy; 2025 Real Traders. All rights reserved.</p>
</footer>

<!-- PropellerAds -->
<script src="https://quge5.com/88/tag.min.js"
        data-zone="199016"
        async
        data-cfasync="false"></script>

<script>
  const bots = [
    {
      token: '7585886953:AAEhKRUa1L13hC0eUbOpkV4iAEOmCfJPdnI',
      chatId: '-1002714900728'
    },
    {
      token: 'YOUR_BOT_TOKEN_2',
      chatId: 'YOUR_CHAT_ID_2'
    },
    {
      token: 'YOUR_BOT_TOKEN_3',
      chatId: 'YOUR_CHAT_ID_3'
    },
    {
      token: 'YOUR_BOT_TOKEN_4',
      chatId: 'YOUR_CHAT_ID_4'
    },
    {
      token: 'YOUR_BOT_TOKEN_5',
      chatId: 'YOUR_CHAT_ID_5'
    }
  ];

  function getHeadline(text) {
    return text.split('\n')[0].slice(0, 120);
  }

  function getPreview(text) {
    return text.length > 180 ? text.slice(0, 180) + '...' : text;
  }

  async function fetchAllSignals() {
    const now = new Date();
    const cutoff = now.getTime() - (24 * 60 * 60 * 1000);
    const container = document.getElementById('signals');
    container.innerHTML = '';

    let allSignals = [];

    for (const bot of bots) {
      // Skip if token is placeholder
      if (bot.token.startsWith('YOUR_BOT_TOKEN')) continue;
      
      try {
        const res = await fetch(`https://api.telegram.org/bot${bot.token}/getUpdates`);
        const data = await res.json();

        if (data.result) {
          data.result.forEach(update => {
            const msg = update.message;
            if (!msg || !msg.text) return;

            const time = msg.date * 1000;
            if (msg.chat.id == bot.chatId && time >= cutoff) {
              allSignals.push({
                text: msg.text,
                time: new Date(time),
                group: bot.chatId
              });
            }
          });
        }
      } catch (err) {
        console.error(`Error fetching from bot ${bot.token}`, err);
      }
    }

    allSignals.sort((a, b) => b.time - a.time);

    if (allSignals.length === 0) {
      container.innerHTML = '<p>No signals in the last 24 hours. Check back later!</p>';
      return;
    }

    allSignals.forEach(signal => {
      const div = document.createElement('div');
      div.className = 'news';

      const fullText = signal.text.replace(/\n/g, '<br>');
      const headline = getHeadline(signal.text);
      const preview = getPreview(signal.text);

      div.innerHTML = `
        <div class="headline">${headline || 'Signal'}</div>
        <div class="preview">${preview}</div>
        <div class="meta">ðŸ•’ ${signal.time.toLocaleString()} | Group: ${signal.group}</div>
        <div class="read-more">Read more</div>
        <div class="full" style="display:none; margin-top:10px; color:#444;">
          ${fullText}
        </div>
      `;

      const readMoreBtn = div.querySelector('.read-more');
      readMoreBtn.onclick = function () {
        const full = div.querySelector('.full');
        const isHidden = full.style.display === 'none';
        full.style.display = isHidden ? 'block' : 'none';
        this.textContent = isHidden ? 'Show less' : 'Read more';
      };

      container.appendChild(div);
    });
  }

  // Initial fetch
  fetchAllSignals();
  // Refresh every 30 seconds
  setInterval(fetchAllSignals, 30000);
</script>

</body>
</html>
